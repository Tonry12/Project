# Project: Smart Target - กลยุทธ์การตลาดแบบ Targeted Marketing ที่วิเคราะห์โดยการสร้าง Machine learning

## Executive Summary

โปรเจกต์นี้มีวัตถุประสงค์เพื่อวิเคราะห์ข้อมูลพฤติกรรมลูกค้า (Customer Behavior) เพื่อสร้างกลยุทธ์การตลาดที่ขับเคลื่อนด้วยข้อมูล (Data-Driven Marketing Strategy) โดยมีเป้าหมายหลัก 3 ประการ:

1.  **การแบ่งกลุ่มลูกค้า (Customer Segmentation):** เพื่อทำความเข้าใจว่า "ลูกค้าของเราคือใคร"
2.  **การสร้างแบบจำลองทำนายผล (Predictive Modeling):** เพื่อค้นหาว่า "ใครคือคนที่จะซื้อสินค้าของเรา"
3.  **การจำลองกลยุทธ์ (Strategy Simulation):** เพื่อพิสูจน์ว่า "กลยุทธ์ที่ขับเคลื่อนด้วยข้อมูลให้ผลตอบแทน ROI ที่สูงกว่าแบบสุ่มอย่างไร"


## ชุดข้อมูล (Dataset)

* **ที่มา:** [Customer Personality Analysis](https://www.kaggle.com/datasets/imakash3011/customer-personality-analysis) จาก Kaggle
* **ลักษณะ:** เป็นข้อมูลลูกค้าสมมติ ประกอบด้วยข้อมูลประชากร, พฤติกรรมการซื้อสินค้า, ช่องทางการซื้อ, และการตอบสนองต่อแคมเปญการตลาดในอดีต

## ขั้นตอนการดำเนินงาน (Project Workflow)

### ขั้นตอนที่ 1: การเตรียมข้อมูลและสร้าง Feature ใหม่ (Data Preparation & Feature Engineering)

* **จัดการข้อมูลที่หายไป (Missing Values):** แทนที่ค่าว่างในคอลัมน์ `Income` ด้วยค่ามัธยฐาน (Median)
* **สร้าง Feature ใหม่ (Feature Engineering):** เพื่อให้ได้ข้อมูลเชิงลึกมากขึ้น
    * `Age`: คำนวณจากปีเกิด
    * `Total_Spend`: ผลรวมของยอดใช้จ่ายในสินค้าทุกหมวดหมู่
    * `Customer_Tenure_Days`: อายุการเป็นสมาชิกของลูกค้า โดยคำนวณจากวันที่สมัคร
    * `Total_Children`: จำนวนเด็กและวัยรุ่นรวมกันภายในครัวเรือน

### ขั้นตอนที่ 2: การแบ่งกลุ่มลูกค้าด้วย K-Means Clustering (Customer Segmentation)

ใช้อัลกอริทึม K-Means เพื่อแบ่งลูกค้าออกเป็น 4 กลุ่ม (Persona) ที่มีลักษณะแตกต่างกันอย่างชัดเจน:

* **Cluster 2: The VIPs** - กลุ่มลูกค้าระดับท็อป: รายได้สูงสุด, ใช้จ่ายสูงสุด, อายุน้อย
* **Cluster 1: The Loyalists** - กลุ่มลูกค้าภักดี: รายได้สูง, ใช้จ่ายสูง, อายุมากที่สุด
* **Cluster 3: The Savers** - กลุ่มประหยัด: รายได้น้อย, ใช้จ่ายน้อยที่สุด, อ่อนไหวต่อราคา
* **Cluster 0: The Everyday Customers** - กลุ่มลูกค้าทั่วไป: ฐานลูกค้าส่วนใหญ่ของบริษัท

### ขั้นตอนที่ 3: การสร้างแบบจำลองทำนายผล (Predictive Modeling)

* **เป้าหมาย:** สร้างโมเดลเพื่อทำนายว่าลูกค้าคนใดมีแนวโน้มจะตอบรับแคมเปญการตลาด (`Response` = 1)
* **การประเมินผล:** แบ่งข้อมูลเป็น Trianing set 80% โดยใช้ **5-Fold Cross-Validation** เพื่อประเมินประสิทธิภาพของโมเดล และทดสอบในชุด Test Set (20%) เพื่อป้องกัน Data Leakage
* **โมเดลที่เปรียบเทียบ:**
    1.  `Logistic Regression`
    2.  `Random Forest Classifier`
* **ผลลัพธ์:** **Random Forest** ให้ประสิทธิภาพโดยรวมที่ดีกว่าและถูกเลือกเป็นโมเดลสุดท้ายสำหรับการวิเคราะห์

### ขั้นตอนที่ 4: การวิเคราะห์ปัจจัยด้วย SHAP (Model Interpretation with SHAP)

เพื่อทำความเข้าใจว่า ทำไมโมเดลถึงตัดสินใจเช่นนั้น เราได้ใช้ SHAP เพื่อวิเคราะห์ปัจจัยที่ส่งผลต่อการทำนายผลของโมเดล Random Forest

**ข้อมูลเชิงลึกที่สำคัญจาก SHAP:**

* **Recency (ความสดใหม่):** เป็นปัจจัยที่สำคัญที่สุด! **ลูกค้าที่เพิ่งซื้อของไป (Recency ต่ำ)** มีแนวโน้มตอบรับแคมเปญสูงมาก
* **Customer Tenure & Total Spend:** ลูกค้าที่ **อยู่มานานและใช้จ่ายเยอะ** มีแนวโน้มตอบรับแคมเปญสูง
* **AcceptedCmp3 & AcceptedCmp5:** ลูกค้าที่ **เคยตอบรับแคมเปญเก่า** มีแนวโน้มสูงมากที่จะตอบรับแคมเปญใหม่อีกครั้ง
* **Income:** **รายได้สูง** เป็นปัจจัยบวกที่ส่งผลต่อการตอบรับแคมเปญ

### ขั้นตอนที่ 5: การวิเคราะห์เชิงกลยุทธ์และการจำลอง ROI (Strategic Analysis & ROI Simulation)

ขั้นตอนสุดท้ายคือการนำข้อมูลทั้งหมดมาสร้างเป็นแผนการตลาดเพื่อวัดผล

1.  **การวิเคราะห์พฤติกรรม Persona:** วิเคราะห์พฤติกรรมการซื้อผ่านช่องทางต่างๆ และการตอบสนองต่อส่วนลดของแต่ละกลุ่ม เพื่อออกแบบแคมเปญที่เหมาะสม
2.  **การจำลอง ROI:** สร้างสถานการณ์จำลองเพื่อเปรียบเทียบประสิทธิภาพระหว่าง 2 กลยุทธ์ โดยมีงบประมาณ 100,000 บาท ที่สามารถยิงแอดได้ 2,000 คน
    * **กลยุทธ์ A (Mass Marketing):** สุ่มยิงแอดหาลูกค้า 2,000 คน
    * **กลยุทธ์ B (Targeted Marketing):** ใช้โมเดล Random Forest ที่สร้างขึ้นมาเพื่อคัดเลือก "ลูกค้า 2,000 คนที่ดีที่สุด" ที่มีแนวโน้มตอบรับสูงสุด

**ผลการจำลอง:**

> การใช้โมเดลเพื่อเจาะจงกลุ่มเป้าหมาย (กลยุทธ์ B) สามารถ **เพิ่มจำนวนผู้ตอบรับ** และ **สร้างผลตอบแทนจากการลงทุน (ROI) ได้สูงกว่า** การตลาดแบบสุ่ม (กลยุทธ์ A) อย่างมีนัยสำคัญ

## ข้อสรุปและข้อเสนอแนะเชิงกลยุทธ์ (Key Findings & Recommendations)

* **โฟกัสที่ลูกค้าปัจจุบัน:** ควรทุ่มงบประมาณไปที่กลุ่มลูกค้าที่เพิ่งซื้อสินค้าไปไม่นาน (Low Recency) เพราะเป็นกลุ่มที่ให้ผลตอบแทนเร็วที่สุด
* **รักษาลูกค้าเก่าแก่:** สร้าง Loyalty Program สำหรับกลุ่มลูกค้าที่อยู่มานานและใช้จ่ายเยอะ (High Tenure & Spend) เพื่อรักษาฐานลูกค้ามูลค่าสูง
* **การตลาดแบบเฉพาะบุคคล:** ใช้ข้อมูล Persona และ Income เพื่อออกแบบ Artwork และข้อเสนอที่แตกต่างกันสำหรับลูกค้าแต่ละกลุ่ม
* **พิสูจน์คุณค่าด้วยตัวเลข:** โปรเจกต์นี้แสดงให้เห็นว่าการลงทุนใน Data Science สามารถสร้าง ROI ที่วัดผลได้จริง และช่วยให้ฝ่ายการตลาดตัดสินใจได้อย่างแม่นยำและคุ้มค่ากับงบประมาณมากขึ้น

## 🛠️ เครื่องมือและไลบรารี (Tools & Libraries)

* **Python 3.12.4**
* **Pandas & NumPy:** สำหรับการจัดการข้อมูล
* **Scikit-learn:** สำหรับการสร้างโมเดล Machine Learning (KMeans, RandomForest, Pipeline, etc.)
* **Matplotlib & Seaborn:** สำหรับการสร้างกราฟและแสดงผลข้อมูล
* **SHAP:** สำหรับการตีความและอธิบายผลของโมเดล

